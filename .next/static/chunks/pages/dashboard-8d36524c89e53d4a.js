(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[724],{3483:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>b});var s=t(7876),r=t(4250),i=t.n(r),o=t(4232),n=t(4312);let l={width:"100%",padding:7,background:"#2980b9",color:"#fff",border:"none",borderRadius:6,fontWeight:"bold",fontSize:"0.95rem",cursor:"pointer",marginTop:0,marginBottom:0,transition:"background 0.2s"};function c(e){let{authUser:a,setAuthUser:t}=e,[r,i]=(0,o.useState)(!1),[n,c]=(0,o.useState)("view"),[d,b]=(0,o.useState)(a.email||""),[m,x]=(0,o.useState)(""),[p,f]=(0,o.useState)(""),[h,u]=(0,o.useState)(!1),j=(0,o.useRef)();return(0,o.useEffect)(()=>{function e(e){j.current&&!j.current.contains(e.target)&&i(!1)}return r&&document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[r]),(0,s.jsxs)("div",{className:"profile-corner",ref:j,children:[(0,s.jsx)("div",{className:"profile-avatar",style:{cursor:"pointer"},onClick:()=>i(e=>!e),children:(0,s.jsx)("img",{src:"/user-avatar.png",alt:"avatar",style:{width:48,height:48,borderRadius:"50%",objectFit:"cover",border:"2px solid #2980b9",boxShadow:r?"0 0 0 4px #6dd5fa":void 0}})}),r&&(0,s.jsxs)("div",{className:"profile-card",style:{marginTop:8},children:["view"===n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"profile-info",children:[(0,s.jsx)("div",{style:{fontWeight:600,color:"#2980b9",fontSize:"1.1rem"},children:a.username}),(0,s.jsx)("div",{style:{color:"#636e72",fontSize:"0.95rem",marginBottom:8},children:a.email||"No email set"}),(0,s.jsxs)("div",{style:{color:"#636e72",fontSize:"0.95rem",marginBottom:8},children:["Password: ","*****"]})]}),(0,s.jsx)("button",{style:l,onClick:()=>c("email"),children:"Change Email"}),(0,s.jsx)("button",{style:{...l,background:"#27ae60",marginTop:8},onClick:()=>c("password"),children:"Change Password"})]}),"email"===n&&(0,s.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),d.trim()&&(x(""),(await fetch("/api/profile",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a.username,email:d.trim()})})).ok?(t(e=>({...e,email:d.trim()})),x("Email updated!"),setTimeout(()=>{c("view"),x("")},1200)):x("Failed to update email."))},style:{width:"100%"},children:[(0,s.jsx)("input",{type:"email",name:"email",value:d,onChange:e=>b(e.target.value),placeholder:"New email",style:{width:"100%",padding:6,borderRadius:6,border:"1px solid #b2bec3",marginBottom:6,fontSize:"0.95rem"},required:!0}),(0,s.jsx)("button",{type:"submit",style:{...l,width:"100%"},children:"Update Email"}),(0,s.jsx)("button",{type:"button",style:{...l,background:"#e74c3c",width:"100%",marginTop:6},onClick:()=>{c("view"),x("")},children:"Cancel"}),m&&(0,s.jsx)("div",{style:{color:"#27ae60",marginTop:6},children:m})]}),"password"===n&&(0,s.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),f(""),u(!0);let t=e.target.oldPassword.value,s=e.target.newPassword.value;if(!t||!s)return void u(!1);let r=await fetch("/api/profile",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a.username,oldPassword:t,newPassword:s})});u(!1),r.ok?(f("Password changed!"),setTimeout(()=>{c("view"),f("")},1200)):f("Password change failed.")},style:{width:"100%"},children:[(0,s.jsx)("input",{type:"password",name:"oldPassword",placeholder:"Current password",style:{width:"100%",padding:6,borderRadius:6,border:"1px solid #b2bec3",marginBottom:6,fontSize:"0.95rem"},required:!0}),(0,s.jsx)("input",{type:"password",name:"newPassword",placeholder:"New password",style:{width:"100%",padding:6,borderRadius:6,border:"1px solid #b2bec3",marginBottom:8,fontSize:"0.95rem"},required:!0}),(0,s.jsx)("button",{type:"submit",style:{...l,width:"100%"},disabled:h,children:h?"Changing...":"Change Password"}),(0,s.jsx)("button",{type:"button",style:{...l,background:"#e74c3c",width:"100%",marginTop:6},onClick:()=>{c("view"),f("")},children:"Cancel"}),p&&(0,s.jsx)("div",{style:{color:p.includes("failed")?"#e74c3c":"#27ae60",marginTop:6},children:p})]})]})]})}let d=(e,a)=>Array.from({length:e},(e,t)=>({id:"".concat(a,"-").concat(t+1),parked:!1,active:!0}));function b(){let[e,a]=(0,o.useState)(d(324,"2W")),[t,r]=(0,o.useState)(d(236,"4W")),[l,b]=(0,o.useState)(null),[m,x]=(0,o.useState)(null),[p,f]=(0,o.useState)(null),[h,u]=(0,o.useState)(""),[j,g]=(0,o.useState)(null),[k,N]=(0,o.useState)([]),[y,v]=(0,o.useState)({name:"",vehicle:"",type:"2W"}),[w,T]=(0,o.useState)(""),[S,P]=(0,o.useState)([]),[C,I]=(0,o.useState)(""),[W,z]=(0,o.useState)(null),[A,D]=(0,o.useState)(""),[E,F]=(0,o.useState)(!1),[O,R]=(0,o.useState)(""),[_,B]=(0,o.useState)(""),[J,U]=(0,o.useState)(null),H=(0,o.useRef)(),L=e=>{e.parked||(b(e.id),v(a=>({...a,type:e.id.startsWith("2W")?"2W":"4W"})))},V=e=>{v({...y,[e.target.name]:e.target.value})},q=async s=>{let i,o;if(s.preventDefault(),l){i=l;let[,e]=l.split("-");o=parseInt(e,10)-1}else{let a="2W"===y.type?e:t,s=a.findIndex(e=>!e.parked);if(-1===s){T("No free spots available."),setTimeout(()=>T(""),2e3);return}o=s,i=a[s].id}let n="2W"===y.type?250:350,c=Date.now(),d=new Date().toISOString(),x={ticketNo:c,spotId:i,spotIdx:o,name:y.name,vehicle:y.vehicle,type:y.type,price:n,createdAt:d};if((null==m?void 0:m.role)==="admin"||(null==m?void 0:m.role)==="worker"){await fetch("/api/parking",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...x,paid:!0,active:!0})}),"2W"===x.type?a(e=>e.map((e,a)=>a===x.spotIdx?{...e,parked:!0}:e)):r(e=>e.map((e,a)=>a===x.spotIdx?{...e,parked:!0}:e)),P(e=>[...e,{...x,paid:!0}]),g({...x,paid:!0}),b(null),v({name:"",vehicle:"",type:x.type});return}U(x),B(n),F(!0)},Y=async()=>{if(!O.trim()||!_){T("Please enter UPI ID and amount."),setTimeout(()=>T(""),2e3);return}let e="UPI_"+Math.random().toString(36).substr(2,9).toUpperCase();await fetch("/api/payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ticketNo:J.ticketNo,name:J.name})}),await fetch("/api/payment",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({ticketNo:J.ticketNo,transactionId:e,paid:!0})});let t=new n.Ay;t.setFontSize(18),t.setTextColor(40,80,180),t.text("ANIBank Parking",105,20,{align:"center"}),t.setFontSize(14),t.setTextColor(0,0,0),t.text("Parking Ticket",105,35,{align:"center"}),t.setFontSize(12),t.text("Ticket No: ".concat(J.ticketNo),20,55),t.text("Name: ".concat(J.name),20,65),t.text("Vehicle No: ".concat(J.vehicle),20,75),t.text("Parking Place: ".concat(J.spotId),20,85),t.text("Type: ".concat("2W"===J.type?"Two Wheeler":"Four Wheeler"),20,95),t.text("Price: â‚¹".concat(J.price),20,105),t.text("Created At: ".concat(new Date(J.createdAt).toLocaleString()),20,115),t.text("Transaction ID: ".concat(e),20,125),t.text("Paid: ".concat("Yes"),20,135);let s=t.output("datauristring").split(",")[1];await fetch("/api/parking",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ticketNo:J.ticketNo,spotId:J.spotId,name:J.name,vehicle:J.vehicle,type:J.type,price:J.price,createdAt:J.createdAt,paid:!0,active:!0,transactionId:e,ticketPdf:s})}),"2W"===J.type?a(e=>e.map((e,a)=>a===J.spotIdx?{...e,parked:!0,active:!0}:e)):r(e=>e.map((e,a)=>a===J.spotIdx?{...e,parked:!0,active:!0}:e));let i={...J,paid:!0,transactionId:e,ticketPdf:s};g(i),P(e=>[...e,i]),v({name:"",vehicle:"",type:J.type}),b(null),F(!1),R(""),U(null)},X=async()=>{if(j)try{(await fetch("/api/parking",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({ticketNo:j.ticketNo})})).ok&&(g(e=>({...e,paid:!0})),N(e=>e.map(e=>e.ticketNo===j.ticketNo?{...e,paid:!0}:e)))}catch(e){console.error(e)}};return(0,o.useEffect)(()=>{{let e=localStorage.getItem("parking_user");if(e){let a=JSON.parse(e);x(a),f(a);let t=setTimeout(()=>f(null),3e3);return()=>clearTimeout(t)}u("User name and password is wrong"),setTimeout(()=>u(""),3e3)}},[]),(0,o.useEffect)(()=>{let e=()=>{fetch("/api/parking").then(e=>e.json()).then(e=>N(e)).catch(e=>console.error(e))};e();let a=setInterval(e,5e3);return()=>clearInterval(a)},[]),(0,o.useEffect)(()=>{k.length&&(a(e=>e.map(e=>({...e,parked:k.some(a=>a.spotId===e.id)}))),r(e=>e.map(e=>({...e,parked:k.some(a=>a.spotId===e.id)}))))},[k]),(0,o.useEffect)(()=>{let e=async()=>{let e=Date.now(),t=k.filter(a=>a.active&&e-new Date(a.createdAt).getTime()>864e5);if(t.length){for(let e of t)try{await fetch("/api/parking",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({ticketNo:e.ticketNo,checkout:!0})})}catch(e){console.error(e)}N(e=>e.filter(e=>!t.some(a=>a.ticketNo===e.ticketNo))),a(e=>e.map(e=>t.some(a=>a.spotId===e.id)?{...e,parked:!1}:e)),r(e=>e.map(e=>t.some(a=>a.spotId===e.id)?{...e,parked:!1}:e)),P(a=>a.filter(a=>e-new Date(a.createdAt).getTime()<=864e5)),g(a=>a&&e-new Date(a.createdAt).getTime()>864e5?null:a)}},t=setInterval(e,6e4);return e(),()=>clearInterval(t)},[k]),(0,s.jsxs)("div",{className:"jsx-aae03b46f9b75e6 dashboard-bg",children:[(null==m?void 0:m.role)==="user"&&(0,s.jsx)(c,{authUser:m,setAuthUser:x}),p?(0,s.jsxs)("div",{className:"jsx-aae03b46f9b75e6 login-bar success",children:["Logged in as: ",(0,s.jsx)("b",{className:"jsx-aae03b46f9b75e6",children:p.username})]}):h?(0,s.jsx)("div",{className:"jsx-aae03b46f9b75e6 login-bar error",children:h}):null,(0,s.jsxs)("div",{className:"jsx-aae03b46f9b75e6 parking-form-bg",children:[(0,s.jsxs)("form",{onSubmit:q,className:"jsx-aae03b46f9b75e6 parking-form",children:[(0,s.jsx)("h3",{className:"jsx-aae03b46f9b75e6",children:"Allocate Parking"}),(0,s.jsxs)("div",{className:"jsx-aae03b46f9b75e6 input-group",children:[(0,s.jsxs)("label",{className:"jsx-aae03b46f9b75e6",children:["Name",(0,s.jsx)("span",{style:{color:"red"},className:"jsx-aae03b46f9b75e6",children:"*"})]}),(0,s.jsx)("input",{name:"name",value:y.name,onChange:V,required:!0,placeholder:"Enter your name",className:"jsx-aae03b46f9b75e6"})]}),(0,s.jsxs)("div",{className:"jsx-aae03b46f9b75e6 input-group",children:[(0,s.jsxs)("label",{className:"jsx-aae03b46f9b75e6",children:["Vehicle Number",(0,s.jsx)("span",{style:{color:"red"},className:"jsx-aae03b46f9b75e6",children:"*"})]}),(0,s.jsx)("input",{name:"vehicle",value:y.vehicle,onChange:V,required:!0,placeholder:"Enter vehicle number",className:"jsx-aae03b46f9b75e6"})]}),(0,s.jsxs)("div",{className:"jsx-aae03b46f9b75e6 input-group",children:[(0,s.jsx)("label",{className:"jsx-aae03b46f9b75e6",children:"Type"}),(0,s.jsxs)("select",{name:"type",value:y.type,onChange:V,className:"jsx-aae03b46f9b75e6",children:[(0,s.jsx)("option",{value:"2W",className:"jsx-aae03b46f9b75e6",children:"Two Wheeler"}),(0,s.jsx)("option",{value:"4W",className:"jsx-aae03b46f9b75e6",children:"Four Wheeler"})]})]}),w&&(0,s.jsx)("div",{className:"jsx-aae03b46f9b75e6 form-error",children:w}),(0,s.jsx)("button",{type:"submit",className:"jsx-aae03b46f9b75e6",children:(null==m?void 0:m.role)==="admin"||(null==m?void 0:m.role)==="worker"?"Allocate Only":"Allocate"})]}),j&&(0,s.jsxs)("div",{className:"jsx-aae03b46f9b75e6 ticket",children:[(0,s.jsx)("h4",{className:"jsx-aae03b46f9b75e6",children:"Parking Ticket"}),(0,s.jsxs)("div",{className:"jsx-aae03b46f9b75e6",children:[(0,s.jsx)("b",{className:"jsx-aae03b46f9b75e6",children:"Ticket No:"})," ",j.ticketNo]}),(0,s.jsxs)("div",{className:"jsx-aae03b46f9b75e6",children:[(0,s.jsx)("b",{className:"jsx-aae03b46f9b75e6",children:"Name:"})," ",j.name]}),(0,s.jsxs)("div",{className:"jsx-aae03b46f9b75e6",children:[(0,s.jsx)("b",{className:"jsx-aae03b46f9b75e6",children:"Vehicle No:"})," ",j.vehicle]}),(0,s.jsxs)("div",{className:"jsx-aae03b46f9b75e6",children:[(0,s.jsx)("b",{className:"jsx-aae03b46f9b75e6",children:"Parking Place:"})," ",j.spotId]}),(0,s.jsxs)("div",{className:"jsx-aae03b46f9b75e6",children:[(0,s.jsx)("b",{className:"jsx-aae03b46f9b75e6",children:"Type:"})," ","2W"===j.type?"Two Wheeler":"Four Wheeler"]}),(0,s.jsxs)("div",{className:"jsx-aae03b46f9b75e6",children:[(0,s.jsx)("b",{className:"jsx-aae03b46f9b75e6",children:"Price:"})," â‚¹",j.price]}),j.transactionId&&(0,s.jsxs)("div",{className:"jsx-aae03b46f9b75e6",children:[(0,s.jsx)("b",{className:"jsx-aae03b46f9b75e6",children:"Transaction ID:"})," ",j.transactionId]}),(0,s.jsxs)("div",{className:"jsx-aae03b46f9b75e6",children:[(0,s.jsx)("b",{className:"jsx-aae03b46f9b75e6",children:"Payment Status:"})," ",j.paid?(0,s.jsx)("span",{style:{color:"#27ae60"},className:"jsx-aae03b46f9b75e6",children:"Paid"}):(0,s.jsx)("span",{style:{color:"#e74c3c"},className:"jsx-aae03b46f9b75e6",children:"Pending"})]}),(0,s.jsx)("button",{onClick:()=>{if(!j)return;let e=new n.Ay;e.setFontSize(18),e.setTextColor(40,80,180),e.text("ANIBank Parking",105,20,{align:"center"}),e.setFontSize(14),e.setTextColor(0,0,0),e.text("Parking Ticket",105,35,{align:"center"}),e.setFontSize(12),e.text("Ticket No: ".concat(j.ticketNo),20,55),e.text("Name: ".concat(j.name),20,65),e.text("Vehicle No: ".concat(j.vehicle),20,75),e.text("Parking Place: ".concat(j.spotId),20,85),e.text("Type: ".concat("2W"===j.type?"Two Wheeler":"Four Wheeler"),20,95),e.text("Price: â‚¹".concat(j.price),20,105),e.text("Created At: ".concat(new Date(j.createdAt).toLocaleString()),20,115),j.transactionId&&e.text("Transaction ID: ".concat(j.transactionId),20,125),e.text("Paid: ".concat(j.paid?"Yes":"No"),20,135),e.setFontSize(10),e.setTextColor(100,100,100),e.text("Developed by Er.XYZ",105,280,{align:"center"}),e.save("ParkingTicket_".concat(j.ticketNo,".pdf")),g(null)},style:{marginTop:"1rem"},className:"jsx-aae03b46f9b75e6",children:"Download Ticket"}),((null==m?void 0:m.role)==="admin"||(null==m?void 0:m.role)==="worker")&&(0,s.jsx)("div",{style:{marginTop:"1rem",fontSize:"0.9rem",color:j.paid?"#27ae60":"#e74c3c"},className:"jsx-aae03b46f9b75e6",children:j.paid?"Payment Successful":"Payment Pending"}),((null==m?void 0:m.role)==="admin"||(null==m?void 0:m.role)==="worker")&&!j.paid&&(0,s.jsx)("button",{onClick:X,style:{marginTop:"1rem",padding:"0.5rem 1rem",background:"#27ae60",color:"#fff",border:"none",borderRadius:6,cursor:"pointer",fontSize:"1rem",fontWeight:"bold",transition:"background 0.2s"},onMouseEnter:e=>{e.target.style.background="#219150"},onMouseLeave:e=>{e.target.style.background="#27ae60"},className:"jsx-aae03b46f9b75e6",children:"Pay Now"})]})]}),((null==m?void 0:m.role)==="admin"||(null==m?void 0:m.role)==="worker")&&(0,s.jsxs)("div",{className:"jsx-aae03b46f9b75e6 claim-ticket-block",children:[(0,s.jsx)("h3",{className:"jsx-aae03b46f9b75e6",children:"Claim Your Ticket"}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault();let a=k.find(e=>String(e.ticketNo)===C.trim());a?(z(a),D("")):(z(null),D("Ticket not found!"),setTimeout(()=>D(""),2e3))},style:{display:"flex",gap:"1rem",alignItems:"center"},className:"jsx-aae03b46f9b75e6",children:[(0,s.jsx)("input",{type:"text",placeholder:"Enter Ticket No",value:C,onChange:e=>I(e.target.value),style:{padding:"0.5rem",borderRadius:6,border:"1px solid #b2bec3"},className:"jsx-aae03b46f9b75e6"}),(0,s.jsx)("button",{type:"submit",style:{padding:"0.5rem 1rem"},className:"jsx-aae03b46f9b75e6",children:"Claim"})]}),A&&(0,s.jsx)("div",{style:{color:"#e74c3c",marginTop:8},className:"jsx-aae03b46f9b75e6",children:A}),W&&(0,s.jsxs)("div",{style:{marginTop:16},className:"jsx-aae03b46f9b75e6 ticket",children:[(0,s.jsx)("h4",{className:"jsx-aae03b46f9b75e6",children:"Parking Ticket"}),(0,s.jsxs)("div",{className:"jsx-aae03b46f9b75e6",children:[(0,s.jsx)("b",{className:"jsx-aae03b46f9b75e6",children:"Ticket No:"})," ",W.ticketNo]}),(0,s.jsxs)("div",{className:"jsx-aae03b46f9b75e6",children:[(0,s.jsx)("b",{className:"jsx-aae03b46f9b75e6",children:"Name:"})," ",W.name]}),(0,s.jsxs)("div",{className:"jsx-aae03b46f9b75e6",children:[(0,s.jsx)("b",{className:"jsx-aae03b46f9b75e6",children:"Vehicle No:"})," ",W.vehicle]}),(0,s.jsxs)("div",{className:"jsx-aae03b46f9b75e6",children:[(0,s.jsx)("b",{className:"jsx-aae03b46f9b75e6",children:"Parking Place:"})," ",W.spotId]}),(0,s.jsxs)("div",{className:"jsx-aae03b46f9b75e6",children:[(0,s.jsx)("b",{className:"jsx-aae03b46f9b75e6",children:"Type:"})," ","2W"===W.type?"Two Wheeler":"Four Wheeler"]}),(0,s.jsx)("button",{onClick:()=>{let e=new n.Ay;e.setFontSize(18),e.setTextColor(40,80,180),e.text("ANIBank Parking",105,20,{align:"center"}),e.setFontSize(14),e.setTextColor(0,0,0),e.text("Parking Ticket",105,35,{align:"center"}),e.setFontSize(12),e.text("Ticket No: ".concat(W.ticketNo),20,55),e.text("Name: ".concat(W.name),20,65),e.text("Vehicle No: ".concat(W.vehicle),20,75),e.text("Parking Place: ".concat(W.spotId),20,85),e.text("Type: ".concat("2W"===W.type?"Two Wheeler":"Four Wheeler"),20,95),e.setFontSize(10),e.setTextColor(100,100,100),e.text("Developed by Er.XYZ",105,280,{align:"center"}),e.save("ParkingTicket_".concat(W.ticketNo,".pdf"))},style:{marginTop:"1rem",marginRight:"1rem"},className:"jsx-aae03b46f9b75e6",children:"Download Ticket"}),(0,s.jsx)("button",{onClick:async()=>{try{(await fetch("/api/parking",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({ticketNo:W.ticketNo,checkout:!0})})).ok||console.error("Checkout failed")}catch(e){console.error(e)}P(e=>e.filter(e=>e.ticketNo!==W.ticketNo)),"2W"===W.type?a(e=>e.map(e=>e.id===W.spotId?{...e,parked:!1,name:void 0,vehicle:void 0}:e)):r(e=>e.map(e=>e.id===W.spotId?{...e,parked:!1,name:void 0,vehicle:void 0}:e)),N(e=>e.filter(e=>e.ticketNo!==W.ticketNo)),z(null),I("")},style:{marginTop:"1rem",background:"#e74c3c",color:"#fff",border:"none",borderRadius:6,padding:"0.5rem 1rem",cursor:"pointer"},className:"jsx-aae03b46f9b75e6",children:"Checkout & Free Spot"})]})]}),(0,s.jsxs)("div",{className:"jsx-aae03b46f9b75e6 dashboard-container",children:[(0,s.jsx)("h1",{className:"jsx-aae03b46f9b75e6",children:"Parking Dashboard"}),(0,s.jsxs)("div",{className:"jsx-aae03b46f9b75e6 section",children:[(0,s.jsx)("p",{style:{fontSize:"0.9rem",color:"#2980b9"},className:"jsx-aae03b46f9b75e6",children:l?"Selected Spot: ".concat(l):"Click on a spot to select specific location."}),(0,s.jsxs)("h2",{className:"jsx-aae03b46f9b75e6",children:["Two Wheeler Parking (",e.filter(e=>e.parked).length,"/",324," Parked)"]}),(0,s.jsx)("div",{className:"jsx-aae03b46f9b75e6 spots-grid",children:e.map(e=>(0,s.jsx)("div",{title:e.id,onClick:()=>L(e),className:"jsx-aae03b46f9b75e6 "+"spot ".concat(e.parked?"parked":""," ").concat(e.active?"active":""," ").concat(l===e.id?"selected":""),children:(0,s.jsx)("div",{className:"jsx-aae03b46f9b75e6",children:e.id})},e.id))})]}),(0,s.jsxs)("div",{className:"jsx-aae03b46f9b75e6 section",children:[(0,s.jsxs)("h2",{className:"jsx-aae03b46f9b75e6",children:["Four Wheeler Parking (",t.filter(e=>e.parked).length,"/",236," Parked)"]}),(0,s.jsx)("div",{className:"jsx-aae03b46f9b75e6 spots-grid",children:t.map(e=>(0,s.jsx)("div",{title:e.id,onClick:()=>L(e),className:"jsx-aae03b46f9b75e6 "+"spot fourwheeler ".concat(e.parked?"parked":""," ").concat(e.active?"active":""),children:(0,s.jsx)("div",{className:"jsx-aae03b46f9b75e6",children:e.id})},e.id))})]})]}),E&&(0,s.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.4)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center"},className:"jsx-aae03b46f9b75e6",children:(0,s.jsxs)("div",{style:{background:"#fff",padding:32,borderRadius:12,minWidth:320,boxShadow:"0 4px 24px #0002"},className:"jsx-aae03b46f9b75e6",children:[(0,s.jsx)("h3",{className:"jsx-aae03b46f9b75e6",children:"UPI Payment"}),(0,s.jsxs)("div",{style:{marginBottom:12},className:"jsx-aae03b46f9b75e6",children:[(0,s.jsx)("label",{className:"jsx-aae03b46f9b75e6",children:"UPI ID:"}),(0,s.jsx)("input",{ref:H,value:O,onChange:e=>R(e.target.value),style:{width:"100%",padding:8,borderRadius:6,border:"1px solid #b2bec3"},placeholder:"Enter your UPI ID",className:"jsx-aae03b46f9b75e6"})]}),(0,s.jsxs)("div",{style:{marginBottom:12},className:"jsx-aae03b46f9b75e6",children:[(0,s.jsx)("label",{className:"jsx-aae03b46f9b75e6",children:"Amount:"}),(0,s.jsx)("input",{value:_,readOnly:!0,style:{width:"100%",padding:8,borderRadius:6,border:"1px solid #b2bec3",background:"#f4f8fb"},className:"jsx-aae03b46f9b75e6"})]}),(0,s.jsx)("button",{style:{width:"100%",padding:10,background:"#27ae60",color:"#fff",border:"none",borderRadius:6,fontWeight:"bold",fontSize:"1rem"},onClick:Y,className:"jsx-aae03b46f9b75e6",children:"Proceed"}),(0,s.jsx)("button",{style:{width:"100%",padding:10,marginTop:8,background:"#e74c3c",color:"#fff",border:"none",borderRadius:6,fontWeight:"bold",fontSize:"1rem"},onClick:()=>{F(!1),R(""),U(null)},className:"jsx-aae03b46f9b75e6",children:"Cancel"})]})}),(0,s.jsx)(i(),{id:"aae03b46f9b75e6",children:".profile-corner.jsx-aae03b46f9b75e6{position:fixed;top:18px;right:24px;z-index:2000}.profile-card.jsx-aae03b46f9b75e6{background:#f4f8fb;border-radius:14px;box-shadow:0 2px 12px#0001;padding:18px 18px 12px 18px;min-width:240px;max-width:320px;display:flex;flex-direction:column;align-items:center}.profile-avatar.jsx-aae03b46f9b75e6{margin-bottom:8px}.profile-info.jsx-aae03b46f9b75e6{text-align:center;margin-bottom:8px}.dashboard-bg.jsx-aae03b46f9b75e6{min-height:100vh;background:linear-gradient(135deg,#6dd5fa 0%,#2980b9 100%);padding:2rem 0}.dashboard-container.jsx-aae03b46f9b75e6{background:#fff;margin:0 auto;max-width:1200px;border-radius:16px;box-shadow:0 8px 32px rgba(44,62,80,.15);padding:2rem}h1.jsx-aae03b46f9b75e6{text-align:center;color:#2980b9;margin-bottom:2rem}.section.jsx-aae03b46f9b75e6{margin-bottom:2.5rem}h2.jsx-aae03b46f9b75e6{color:#34495e;margin-bottom:1rem}.spots-grid.jsx-aae03b46f9b75e6{display:grid;grid-template-columns:repeat(auto-fit,minmax(60px,1fr));gap:8px;max-height:320px;overflow-y:auto;background:#f4f8fb;padding:10px;border-radius:8px}.spot.jsx-aae03b46f9b75e6{background:#e0eafc;border:2px solid#b2bec3;border-radius:8px;padding:8px 0;text-align:center;font-size:.95rem;color:#34495e;cursor:pointer;transition:background.2s,border.2s,color.2s;-webkit-user-select:none;user-select:none}.spot.parked.jsx-aae03b46f9b75e6{background:#27ae60;color:#fff;border-color:#219150}.spot.active.jsx-aae03b46f9b75e6{box-shadow:0 0 0 3px#2980b9}.spot.fourwheeler.jsx-aae03b46f9b75e6{font-weight:bold}.spot.jsx-aae03b46f9b75e6:hover{border-color:#2980b9}.login-bar.jsx-aae03b46f9b75e6{width:100%;text-align:center;padding:.7rem 0;font-size:1.1rem;font-weight:500;letter-spacing:1px}.login-bar.success.jsx-aae03b46f9b75e6{background:#27ae60;color:#fff}.login-bar.error.jsx-aae03b46f9b75e6{background:#e74c3c;color:#fff}.parking-form-bg.jsx-aae03b46f9b75e6{display:flex;justify-content:center;align-items:flex-start;gap:2rem;margin-bottom:2rem}.parking-form.jsx-aae03b46f9b75e6{background:#fff;padding:1.5rem 2rem;border-radius:12px;box-shadow:0 4px 16px rgba(44,62,80,.08);min-width:300px}.parking-form.jsx-aae03b46f9b75e6 h3.jsx-aae03b46f9b75e6{margin-bottom:1rem;color:#2980b9}.parking-form.jsx-aae03b46f9b75e6 div.jsx-aae03b46f9b75e6{margin-bottom:1rem}.parking-form.jsx-aae03b46f9b75e6 label.jsx-aae03b46f9b75e6{display:block;margin-bottom:.3rem;color:#34495e;font-weight:500}.parking-form.jsx-aae03b46f9b75e6 input.jsx-aae03b46f9b75e6,.parking-form.jsx-aae03b46f9b75e6 select.jsx-aae03b46f9b75e6{width:100%;padding:.6rem;border:1px solid#b2bec3;border-radius:6px;font-size:1rem;outline:none;margin-bottom:.2rem}.parking-form.jsx-aae03b46f9b75e6 button.jsx-aae03b46f9b75e6{width:100%;padding:.7rem;background:linear-gradient(90deg,#2980b9 0%,#6dd5fa 100%);color:#fff;border:none;border-radius:6px;font-size:1.05rem;font-weight:bold;cursor:pointer;transition:background.2s}.parking-form.jsx-aae03b46f9b75e6 button.jsx-aae03b46f9b75e6:hover{background:linear-gradient(90deg,#2574a9 0%,#48c6ef 100%)}.form-error.jsx-aae03b46f9b75e6{color:#e74c3c;margin-bottom:.5rem;font-size:.98rem}.ticket.jsx-aae03b46f9b75e6{background:#e0f7fa;border:2px solid#2980b9;border-radius:12px;padding:1.2rem 2rem;min-width:250px;color:#2980b9;font-size:1.05rem;box-shadow:0 4px 16px rgba(44,62,80,.08)}.ticket.jsx-aae03b46f9b75e6 h4.jsx-aae03b46f9b75e6{margin-top:0;margin-bottom:.7rem;color:#2196f3}.claim-ticket-block.jsx-aae03b46f9b75e6{background:#fff;padding:1.5rem 2rem;border-radius:12px;box-shadow:0 4px 16px rgba(44,62,80,.08);min-width:300px;margin:2rem auto;max-width:400px}.claim-ticket-block.jsx-aae03b46f9b75e6 h3.jsx-aae03b46f9b75e6{margin-bottom:1rem;color:#2980b9}.spot-desc.jsx-aae03b46f9b75e6{font-size:.8rem;color:#34495e;margin-top:4px}"})]})}},5372:(e,a,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return t(3483)}])}},e=>{e.O(0,[347,250,115,636,593,792],()=>e(e.s=5372)),_N_E=e.O()}]);